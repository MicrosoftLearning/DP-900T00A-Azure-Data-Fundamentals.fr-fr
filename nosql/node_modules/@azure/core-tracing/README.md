---
ms.openlocfilehash: b39271c36702513d70dc9f28e4cedb95c04a6525
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051681"
---
# <a name="azure-core-tracing-library-for-javascript"></a>Bibliothèque de suivi principale Azure pour JavaScript

Il s’agit de la bibliothèque de suivi principale qui fournit des interfaces de bas niveau et des méthodes d’assistance pour le suivi dans les bibliothèques JavaScript de SDK Azure qui fonctionnent dans le navigateur et Node.js.

## <a name="getting-started"></a>Prise en main

### <a name="installation"></a>Installation

Installez cette bibliothèque avec npm comme suit :

```
npm install @azure/core-tracing
```

## <a name="key-concepts"></a>Concepts clés

Le package `@azure/core-tracing` prend en charge l’activation du suivi pour les packages de SDK Azure en utilisant un `Tracer` [OpenTelemetry](https://opentelemetry.io/).

Par défaut, toutes les bibliothèques journalisent avec un `NoOpTracer` qui n’effectue aucune action.
Pour changer cela, vous devez utiliser `setTracer` pour définir un nouveau `Tracer` par défaut.

## <a name="examples"></a>Exemples

### <a name="example-1---setting-an-opentelemetry-tracer"></a>Exemple 1 - Définition d’un traceur OpenTelemetry

```js
const opentelemetry = require("@opentelemetry/api");
const { BasicTracer, SimpleSpanProcessor } = require("@opentelemetry/tracing");
const { ZipkinExporter } = require("@opentelemetry/exporter-zipkin");
const { setTracer } = require("@azure/core-tracing");

const exporter = new ZipkinExporter({
  serviceName: "azure-tracing-sample"
});
const tracer = new BasicTracer();
tracer.addSpanProcessor(new SimpleSpanProcessor(exporter));

setTracer(tracer);

const rootSpan = tracer.startSpan("root");
const context = opentelemetry.setSpan(opentelemetry.context.active(), rootSpan);

// Call some client library methods and pass rootSpan via tracingOptions.

rootSpan.end();
exporter.shutdown();
```

### <a name="example-2---passing-current-context-to-library-operations"></a>Exemple 2 - Passage du contexte actuel aux opérations de bibliothèque

```js
// Given a BlobClient from @azure/storage-blob
const result = await blobClient.download(undefined, undefined, {
  tracingOptions: {
    tracingContext: context
  }
});
```

## <a name="next-steps"></a>Étapes suivantes

Vous pouvez générer et exécuter les tests localement en exécutant `rushx test`. Explorez le dossier `test` pour voir l’utilisation et le comportement avancés des classes publiques.

## <a name="troubleshooting"></a>Résolution des problèmes

Si vous rencontrez des problèmes lors de l’utilisation de cette bibliothèque, n’hésitez pas à [signaler un problème](https://github.com/Azure/azure-sdk-for-js/issues/new).

## <a name="contributing"></a>Contribution

Si vous souhaitez contribuer à cette bibliothèque, lisez le [guide de contribution](https://github.com/Azure/azure-sdk-for-js/blob/main/CONTRIBUTING.md) pour en savoir plus sur la génération et le test du code.

![Impressions](https://azure-sdk-impressions.azurewebsites.net/api/impressions/azure-sdk-for-js%2Fsdk%2Fcore%2Fcore-tracing%2FREADME.png)
