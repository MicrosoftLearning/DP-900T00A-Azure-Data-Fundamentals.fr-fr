---
ms.openlocfilehash: 05bea0332c8376e66d4aed62eab42a50c744536d
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051673"
---
# <a name="microsoft-authentication-library-for-node-msal-node"></a>Bibliothèque d’authentification Microsoft pour Node (msal-node)

[![version npm](https://img.shields.io/npm/v/@azure/msal-node.svg?style=flat)](https://www.npmjs.com/package/@azure/msal-node/)[![version npm](https://img.shields.io/npm/dm/@azure/msal-node.svg)](https://nodei.co/npm/@azure/msal-node/)[![État de la couverture](https://coveralls.io/repos/github/AzureAD/microsoft-authentication-library-for-js/badge.svg?branch=dev)](https://coveralls.io/github/AzureAD/microsoft-authentication-library-for-js?branch=dev)

| <a href="https://docs.microsoft.com/azure/active-directory/develop/guidedsetups/active-directory-javascriptspa" target="_blank">Prise en main</a> | <a href="https://aka.ms/aaddevv2" target="_blank">Documentation AAD</a> | <a href="https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_node.html" target="_blank">Référence de bibliothèque</a> |
| --- | --- | --- |

`msal-node` est actuellement en développement. Suivez l’avancée du projet [ici](https://github.com/AzureAD/microsoft-authentication-library-for-js/projects/4). La présente documentation est également en cours d’élaboration et fera l’objet de modifications au fur et à mesure de la publication de nos correctifs `alpha`. **Nous vous recommandons de ne pas utiliser ceci dans un environnement de production**.

1. [À propos de](#about)
2. [FORUM AUX QUESTIONS](#faq)
3. [Publications](#releases)
4. [Composants requis](#prerequisites)
5. [Installation](#installation)
6. [Utilisation](#usage)
7. [Exemples](#samples)
8. [Bibliothèque de build](#build-and-test)
9. [Rapports sur la sécurité](#security-reporting)
10. [Licence](#license)
11. [Code de conduite](#we-value-and-adhere-to-the-microsoft-open-source-code-of-conduct)

## <a name="about"></a>À propos de

MSAL Node permet aux applications d’authentifier les utilisateurs à l’aide de comptes professionnels ou scolaires [Azure AD](https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-overview) (AAD), de comptes personnels Microsoft (MSA) et de fournisseurs d’identité sociale tels que Facebook, Google, LinkedIn, les comptes Microsoft, etc. via le service [Azure AD B2C](https://docs.microsoft.com/en-us/azure/active-directory-b2c/active-directory-b2c-overview#identity-providers). Il permet également à votre application d’obtenir des jetons pour accéder aux services [Microsoft Cloud](https://www.microsoft.com/enterprise) comme [Microsoft Graph](https://graph.microsoft.io).


### <a name="oauth20-grant-types-supported"></a>Types d’octroi OAuth2.0 pris en charge :

La version alpha actuelle prend en charge les méthodes d’acquisition de jetons suivantes :

#### <a name="public-client"></a>Client public :
- [Octroi de code d’autorisation](https://oauth.net/2/grant-types/authorization-code/) avec [PKCE](https://oauth.net/2/pkce/)
- [Octroi de code d’appareil](https://oauth.net/2/grant-types/device-code/)
- [Octroi de jeton d’actualisation](https://oauth.net/2/grant-types/refresh-token/)
- [Flux silencieux](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-acquire-cache-tokens#acquiring-tokens-silently-from-the-cache)

#### <a name="confidential-client"></a>Client confidentiel :
- [Octroi de code d’autorisation](https://oauth.net/2/grant-types/authorization-code/) avec les informations d’identification client
- [Octroi de jeton d’actualisation](https://oauth.net/2/grant-types/refresh-token/)
- [Flux silencieux](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-acquire-cache-tokens#acquiring-tokens-silently-from-the-cache)
- [Octroi d’informations d’identification client](https://oauth.net/2/grant-types/client-credentials/)
- [Flux On-Behalf-Of](https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow)

**[Bientôt disponible]** Dans le futur, nous prévoyons d’ajouter une prise en charge des méthodes suivantes :
- [Flux Authentification Windows intégrée](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-authentication-flows#integrated-windows-authentication)
- [Flux Nom d’utilisateur et mot de passe](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-authentication-flows#usernamepassword)

Vous trouverez [ici](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-authentication-flows) plus d’informations sur les différents types d’octroi pris en charge par les bibliothèques d’authentification Microsoft en général.

### <a name="scenarios-supported"></a>Scénarios pris en charge :

Les scénarios pris en charge avec cette bibliothèque sont les suivants :
- Application de bureau qui appelle des API web
- Application web qui appelle des API web
- API web qui appellent des API web
- Applications démon

Vous trouverez [ici](https://docs.microsoft.com/en-us/azure/active-directory/develop/authentication-flows-app-scenarios) plus d’informations sur les scénarios et les flux d’authentification utilisés dans chacun d’eux.

## <a name="faq"></a>Questions fréquentes (FAQ)

Voir [ici](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-node/docs/faq.md).

## <a name="prerequisites"></a>Prérequis

Avant d’utiliser `@azure/msal-node`, vous devez inscrire votre application dans le portail Azure :

- [Inscription d’application](https://docs.microsoft.com/en-us/graph/auth-register-app-v2)

## <a name="installation"></a>Installation

### <a name="via-npm"></a>Via NPM :
```javascript
npm install @azure/msal-node
```
##  <a name="usage"></a>Usage

### <a name="msal-basics"></a>Concepts de base de MSAL
- [Comprendre la différence entre un client public et un client confidentiel](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-client-applications)
- [Initialiser une application cliente publique](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-node/docs/initialize-public-client-application.md)
- [Initialiser une application cliente confidentielle](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-node/docs/initialize-confidential-client-application.md)
- [Configuration](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-node/docs/configuration.md)
- [Requête](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-common/docs/request.md)
- [Réponse](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-common/docs/response.md)

## <a name="samples"></a>Exemples
Le dépôt contient plusieurs [exemples](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples) qui utilisent MSAL Node pour acquérir des jetons. Ces exemples sont actuellement utilisés dans le cadre de tests manuels et ne sont pas à considérer comme des bonnes pratiques de référence. Par conséquent, faites preuve de jugement et ne copiez pas ce code aveuglément dans vos applications de production.

- [auth-code](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/auth-code) : application Express qui utilise le flux de code d’autorisation OAuth2.0.
- [device-code](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/device-code) : application en ligne de commande qui utilise le flux de code d’appareil OAuth2.0.
- [refresh-token](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/refresh-token) : application en ligne de commande qui utilise le flux d’actualisation OAuth2.0.
- [silent-flow](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/silent-flow) : application Express qui utilise le flux de code d’autorisation OAuth2.0 pour acquérir un jeton et le stocker dans le cache de jetons, ainsi que le flux silencieux pour utiliser des jetons dans le cache de jetons.
- [client-credentials](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/client-credentials) : application démon qui utilise l’octroi d’informations d’identification client Oauth 2.0 pour acquérir un jeton.
- [on-behalf-of](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/on-behalf-of) : application web qui utilise le flux de code d’authentification OAuth2.0 pour acquérir un jeton pour une API web. L’API web valide le jeton, puis appelle Microsoft Graph au nom de l’utilisateur qui s’est authentifié dans l’application web.
- [msal-node-extensions](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/extensions/samples/msal-node-extensions) : utilise le flux de code d’autorisation pour acquérir des jetons, et la bibliothèque [msal-extensions](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/extensions/) pour écrire le cache de jetons en mémoire sur le disque.

## <a name="build-and-test"></a>Générer et tester

- Si [lerna](https://github.com/lerna/lerna) n’est pas installé, exécutez `npm install -g lerna`
- Exécutez `lerna bootstrap` n’importe où dans `microsoft-authentication-library-for-js.git`.
- Accédez à `microsoft-authentication-library-for-js/lib/msal-common` et exécutez `npm run build`
- Accédez à `microsoft-authentication-library-for-js/lib/msal-node` et exécutez `npm run build`

```javascript
// to link msal-node and msal-common packages
lerna bootstrap

// Change to the msal-node package directory
cd lib/msal-common/

// To run build only for node package
npm run build

// Change to the msal-node package directory
cd lib/msal-node/

// To run build only for node package
npm run build
```

### <a name="local-development"></a>Développement local
Voici une liste de commandes que vous trouverez probablement utiles :

#### `npm run build:modules:watch`
Exécute le projet en mode développement/espion. Votre projet sera reconstruit après les modifications. TSDX fournit un enregistreur d’événements spécial pour des raisons pratiques. Les messages d’erreur sont affichés et mis en forme en mode Pretty pour la compatibilité avec l’onglet Problèmes de VS Code. La bibliothèque sera reconstruite après d’éventuelles modifications.

#### `npm run build`
Fournit le package dans le dossier `dist`.
Le package est optimisé et groupé avec Rollup dans divers formats (CommonJS, UMD et ES Module).

#### `lerna bootstrap`
Si vous exécutez le projet en mode développement/espion, ou si vous avez apporté des modifications dans `msal-common` et souhaitez les répercuter dans tout le projet, exécutez `lerna bootstrap` pour lier tous les symboles. Notez que `npm install` dissociera tout le code. Il est donc conseillé d’exécuter `lerna bootstrap` après l’installation.

#### `npm run lint`
Exécute eslint avec Prettier

#### <a name="npm-test-npm-run-testcoverage-npm-run-testwatch"></a>`npm test`, `npm run test:coverage`, `npm run test:watch`
Exécute l’observateur de test (Jest) en mode interactif.
Par défaut, il exécute des tests sur les fichiers qui ont été modifiés depuis la dernière opération commit.
Générez la couverture du code en ajoutant l’indicateur --coverage. Pas de configuration supplémentaire requise. Jest peut collecter des informations sur la couverture de code à partir de projets entiers, y compris des fichiers non testés.

## <a name="security-reporting"></a>Rapports sur la sécurité

Si vous rencontrez un problème de sécurité avec nos bibliothèques ou services, signalez-le nous à l’adresse [secure@microsoft.com](mailto:secure@microsoft.com), en fournissant autant de détails que possible. Votre envoi peut être éligible à une prime par le biais du programme [Microsoft Bounty](http://aka.ms/bugbounty). Nous vous demandons de ne pas signaler de problèmes de sécurité dans GitHub Issues ou tout autre site public. Nous vous contacterons rapidement après réception des informations. Nous vous encourageons à activer les notifications d’incidents de sécurité en vous rendant sur [cette page](https://technet.microsoft.com/security/dd252948) et en vous abonnant aux alertes d’avis de sécurité.

## <a name="license"></a>Licence

Copyright (c) Microsoft Corporation.  Tous droits réservés. Concédé sous licence MIT.

## <a name="we-value-and-adhere-to-the-microsoft-open-source-code-of-conduct"></a>Nous apprécions et respectons le code de conduite Microsoft Open Source

Ce projet a adopté le [Code de conduite Open Source de Microsoft](https://opensource.microsoft.com/codeofconduct/). Pour plus d’informations, consultez le [Forum Aux Questions sur le Code de conduite](https://opensource.microsoft.com/codeofconduct/faq/) ou contactez [opencode@microsoft.com](mailto:opencode@microsoft.com) si vous avez d’autres questions ou des commentaires.

