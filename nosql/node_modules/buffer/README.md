---
ms.openlocfilehash: 10d69c50139d95dc37feaab872c5c2848fd3b089
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051294"
---
# <a name="buffer-travistravis-imagetravis-url-npmnpm-imagenpm-url-downloadsdownloads-imagedownloads-url-javascript-style-guidestandard-imagestandard-url"></a>buffer [![travis][travis-image]][travis-url] [![npm][npm-image]][npm-url] [![téléchargements][downloads-image]][downloads-url] [![guide de style javascript][standard-image]][standard-url]

[travis-image]: https://img.shields.io/travis/feross/buffer/master.svg
[travis-url]: https://travis-ci.org/feross/buffer
[npm-image]: https://img.shields.io/npm/v/buffer.svg
[npm-url]: https://npmjs.org/package/buffer
[downloads-image]: https://img.shields.io/npm/dm/buffer.svg
[downloads-url]: https://npmjs.org/package/buffer
[standard-image]: https://img.shields.io/badge/code_style-standard-brightgreen.svg
[standard-url]: https://standardjs.com

#### <a name="the-buffer-module-from-nodejs-for-the-browser"></a>Module Buffer de [node.js](https://nodejs.org/), pour le navigateur.

[![saucelabs][saucelabs-image]][saucelabs-url]

[saucelabs-image]: https://saucelabs.com/browser-matrix/buffer.svg
[saucelabs-url]: https://saucelabs.com/u/buffer

Avec [browserify](http://browserify.org), utilisez simplement `require('buffer')` ou le `Buffer` global pour obtenir ce module.

L’objectif est de fournir une API strictement identique à l’[API Buffer de Node](https://nodejs.org/api/buffer.html). Consultez la [documentation officielle](https://nodejs.org/api/buffer.html) pour obtenir la liste complète des propriétés, méthodes d’instance et méthodes de classe qui sont prises en charge.

## <a name="features"></a>features

- Manipulez les données binaires comme un chef, dans tous les navigateurs !
- Très rapide. Basé sur des tableaux typés (`Uint8Array`/`ArrayBuffer`, pas `Object`)
- Bundle de très petite taille (**6,75 Ko minifié + compressé en gzip**, 51,9 Ko avec commentaires)
- Excellente prise en charge des navigateurs (Chrome, Firefox, Edge, Safari 9+, IE 11, iOS 9+, Android, etc.)
- Conserve l’API de Node à l’identique, avec une seule différence mineure (voir ci-dessous)
- Prise en charge de la notation `buf[4]` entre crochets !
- Ne modifie pas les prototypes de navigateur et ne place rien sur `window`
- Suite de tests complète (incluant tous les tests de buffer de node.js core)

## <a name="install"></a>installer

Pour utiliser ce module directement (sans browserify), installez-le :

```bash
npm install buffer
```

Ce module était auparavant appelé **native-buffer-browserify**, mais utilisez **buffer** à partir de maintenant.

Si vous n’utilisez pas de bundler, vous pouvez utiliser le [script autonome](https://bundle.run/buffer).

## <a name="usage"></a>usage

L’API du module est identique à l’API `Buffer` de Node. Consultez la [documentation officielle](https://nodejs.org/api/buffer.html) pour obtenir la liste complète des propriétés, méthodes d’instance et méthodes de classe qui sont prises en charge.

Comme mentionné ci-dessus, utilisez `require('buffer')` ou le `Buffer` global avec [browserify](http://browserify.org) pour inclure ce module automatiquement dans votre bundle. Quasiment tous les modules npm fonctionnent dans le navigateur, même quand un module suppose que l’API `Buffer` de Node sera disponible.

Pour dépendre explicitement de ce module (sans browserify), spécifiez-le de cette façon :

```js
var Buffer = require('buffer/').Buffer  // note: the trailing slash is important!
```

Pour exiger explicitement ce module, utilisez `require('buffer/')`, qui indique à l’algorithme de recherche du module node.js (également utilisé par browserify) d’utiliser le **module npm** nommé `buffer` au lieu du module **node.js core** nommé `buffer`.


## <a name="how-does-it-work"></a>fonctionnement

Le constructeur Buffer retourne les instances de `Uint8Array` dont le prototype a été changé en `Buffer.prototype`. De plus, comme `Buffer` est une sous-classe de `Uint8Array`, les instances retournées ont toutes les méthodes `Buffer` de Node et les méthodes `Uint8Array`. La notation entre crochets se comporte comme prévu : elle retourne un octet unique.

Le prototype `Uint8Array` reste inchangé.


## <a name="tracking-the-latest-node-api"></a>suivi de l’API dans la dernière version de Node

Ce module effectue le suivi de l’API Buffer dans la dernière version (instable) de node.js. L’API Buffer est considérée comme **stable** dans l’[indice de stabilité Node](https://nodejs.org/docs/latest/api/documentation.html#documentation_stability_index). Il est donc peu probable qu’il y ait des changements cassants.
Néanmoins, si de tels changements se produisaient dans l’API Buffer de Node, l’API de ce module changerait en conséquence.

## <a name="related-packages"></a>packages associés

- [`buffer-reverse`](https://www.npmjs.com/package/buffer-reverse) - Faire le reverse d’un buffer
- [`buffer-xor`](https://www.npmjs.com/package/buffer-xor) - Xor au niveau du bit pour un buffer
- [`is-buffer`](https://www.npmjs.com/package/is-buffer) - Déterminer si un objet est un buffer sans inclure l’ensemble du package `Buffer`

## <a name="conversion-packages"></a>packages de conversion

### <a name="convert-typed-array-to-buffer"></a>convertir un typedarray en buffer

Utilisez [`typedarray-to-buffer`](https://www.npmjs.com/package/typedarray-to-buffer) pour convertir n’importe quel type de tableau typé en tampon (`Buffer`). Comme aucune copie n’est faite, c’est très rapide.

### <a name="convert-buffer-to-typed-array"></a>convertir un buffer en typedarray

`Buffer` est une sous-classe de `Uint8Array` (qui est un tableau typé). Il n’est donc pas nécessaire de la convertir explicitement en tableau typé. Utilisez simplement le buffer en tant que `Uint8Array`.

### <a name="convert-blob-to-buffer"></a>convertir un blob en buffer

Utilisez [`blob-to-buffer`](https://www.npmjs.com/package/blob-to-buffer) pour convertir un `Blob` en `Buffer`.

### <a name="convert-buffer-to-blob"></a>convertir un buffer en blob

Pour convertir un `Buffer` en `Blob`, utilisez le constructeur `Blob` :

```js
var blob = new Blob([ buffer ])
```

Vous pouvez aussi spécifier un mimetype :

```js
var blob = new Blob([ buffer ], { type: 'text/html' })
```

### <a name="convert-arraybuffer-to-buffer"></a>convertir un arraybuffer en buffer

Pour convertir un `ArrayBuffer` en `Buffer`, utilisez la fonction `Buffer.from`. Comme aucune copie n’est faite, c’est très rapide.

```js
var buffer = Buffer.from(arrayBuffer)
```

### <a name="convert-buffer-to-arraybuffer"></a>convertir un buffer en arraybuffer

Pour convertir un `Buffer` en `ArrayBuffer`, utilisez la propriété `.buffer` (qui est présente sur tous les objets `Uint8Array`) :

```js
var arrayBuffer = buffer.buffer.slice(
  buffer.byteOffset, buffer.byteOffset + buffer.byteLength
)
```

Vous pouvez également utiliser le module [`to-arraybuffer`](https://www.npmjs.com/package/to-arraybuffer).

## <a name="performance"></a>performances

Consultez les tests perf dans `/perf`.

`BrowserBuffer` est le module `buffer` du navigateur (ce dépôt). `Uint8Array` est inclus pour le contrôle d’intégrité (comme `BrowserBuffer` utilise `Uint8Array` en arrière-plan, `Uint8Array` sera toujours au moins un peu plus rapide). Enfin, `NodeBuffer` est le module Buffer dans node.js, qui est fourni pour les comparaisons.

REMARQUE : Les performances ont été améliorées depuis que ces benchmarks ont été effectués. Les PR peuvent mettre à jour le README.

### <a name="chrome-38"></a>Chrome 38

| Méthode | Operations | Précision | Échantillonné | Le plus rapide |
|:-------|:-----------|:---------|:--------|:-------:|
| BrowserBuffer#bracket-notation | 11 457 464 ops/s | ±0.86% | 66 | ✓ |
| Uint8Array#bracket-notation | 10 824 332 ops/s | ±0.74% | 65 | |
| | | | |
| BrowserBuffer#concat | 450 532 ops/s | ±0.76% | 68 | |
| Uint8Array#concat | 1 368 911 ops/s | ±1.50% | 62 | ✓ |
| | | | |
| BrowserBuffer#copy(16000) | 903 001 ops/s | ±0.96% | 67 | |
| Uint8Array#copy(16000) | 1 422 441 ops/s | ±1.04% | 66 | ✓ |
| | | | |
| BrowserBuffer#copy(16) | 11 431 358 ops/s | ±0.46% | 69 | |
| Uint8Array#copy(16) | 13 944 163 ops/s | ±1.12% | 68 | ✓ |
| | | | |
| BrowserBuffer#new(16000) | 106 329 ops/s | ±6.70% | 44 | |
| Uint8Array#new(16000) | 131 001 ops/s | ±2.85% | 31 | ✓ |
| | | | |
| BrowserBuffer#new(16) | 1 554 491 ops/s | ±1.60% | 65 | |
| Uint8Array#new(16) | 6 623 930 ops/s | ±1.66% | 65 | ✓ |
| | | | |
| BrowserBuffer#readDoubleBE | 112 830 ops/s | ±0.51% | 69 | ✓ |
| DataView#getFloat64 | 93 500 ops/s | ±0.57% | 68 | |
| | | | |
| BrowserBuffer#readFloatBE | 146 678 ops/s | ±0.95% | 68 | ✓ |
| DataView#getFloat32 | 99 311 ops/s | ±0.41% | 67 | |
| | | | |
| BrowserBuffer#readUInt32LE | 843 214 ops/s | ±0.70% | 69 | ✓ |
| DataView#getUint32 | 103 024 ops/s | ±0.64% | 67 | |
| | | | |
| BrowserBuffer#slice | 1 013 941 ops/s | ±0.75% | 67 | |
| Uint8Array#subarray | 1 903 928 ops/s | ±0.53% | 67 | ✓ |
| | | | |
| BrowserBuffer#writeFloatBE | 61 387 ops/s | ±0.90% | 67 | |
| DataView#setFloat32 | 141 249 ops/s | ±0.40% | 66 | ✓ |


### <a name="firefox-33"></a>Firefox 33

| Méthode | Operations | Précision | Échantillonné | Le plus rapide |
|:-------|:-----------|:---------|:--------|:-------:|
| BrowserBuffer#bracket-notation | 20 800 421 ops/s | ±1.84% | 60 | |
| Uint8Array#bracket-notation | 20 826 235 ops/s | ±2.02% | 61 | ✓ |
| | | | |
| BrowserBuffer#concat | 153 076 ops/s | ±2.32% | 61 | |
| Uint8Array#concat | 1 255 674 ops/s | ±8.65% | 52 | ✓ |
| | | | |
| BrowserBuffer#copy(16000) | 1 105 312 ops/s | ±1.16% | 63 | |
| Uint8Array#copy(16000) | 1 615 911 ops/s | ±0.55% | 66 | ✓ |
| | | | |
| BrowserBuffer#copy(16) | 16 357 599 ops/s | ±0.73% | 68 | |
| Uint8Array#copy(16) | 31 436 281 ops/s | ±1.05% | 68 | ✓ |
| | | | |
| BrowserBuffer#new(16000) | 52 995 ops/s | ±6.01% | 35 | |
| Uint8Array#new(16000) | 87 686 ops/s | ±5.68% | 45 | ✓ |
| | | | |
| BrowserBuffer#new(16) | 252 031 ops/s | ±1.61% | 66 | |
| Uint8Array#new(16) | 8 477 026 ops/s | ±0.49% | 68 | ✓ |
| | | | |
| BrowserBuffer#readDoubleBE | 99 871 ops/s | ±0.41% | 69 | |
| DataView#getFloat64 | 285 663 ops/s | ±0.70% | 68 | ✓ |
| | | | |
| BrowserBuffer#readFloatBE | 115 540 ops/s | ±0.42% | 69 | |
| DataView#getFloat32 | 288 722 ops/s | ±0.82% | 68 | ✓ |
| | | | |
| BrowserBuffer#readUInt32LE | 633 926 ops/s | ±1.08% | 67 | ✓ |
| DataView#getUint32 | 294 808 ops/s | ±0.79% | 64 | |
| | | | |
| BrowserBuffer#slice | 349 425 ops/s | ±0.46% | 69 | |
| Uint8Array#subarray | 5 965 819 ops/s | ±0.60% | 65 | ✓ |
| | | | |
| BrowserBuffer#writeFloatBE | 59 980 ops/s | ±0.41% | 67 | |
| DataView#setFloat32 | 317 634 ops/s | ±0.63% | 68 | ✓ |

### <a name="safari-8"></a>Safari 8

| Méthode | Operations | Précision | Échantillonné | Le plus rapide |
|:-------|:-----------|:---------|:--------|:-------:|
| BrowserBuffer#bracket-notation | 10 279 729 ops/s | ±2.25% | 56 | ✓ |
| Uint8Array#bracket-notation | 10 030 767 ops/s | ±2.23% | 59 | |
| | | | |
| BrowserBuffer#concat | 144 138 ops/s | ±1.38% | 65 | |
| Uint8Array#concat | 4 950 764 ops/s | ±1.70% | 63 | ✓ |
| | | | |
| BrowserBuffer#copy(16000) | 1 058 548 ops/s | ±1.51% | 64 | |
| Uint8Array#copy(16000) | 1 409 666 ops/s | ±1.17% | 65 | ✓ |
| | | | |
| BrowserBuffer#copy(16) | 6 282 529 ops/s | ±1.88% | 58 | |
| Uint8Array#copy(16) | 11 907 128 ops/s | ±2.87% | 58 | ✓ |
| | | | |
| BrowserBuffer#new(16000) | 101 663 ops/s | ±3.89% | 57 | |
| Uint8Array#new(16000) | 22 050 818 ops/s | ±6.51% | 46 | ✓ |
| | | | |
| BrowserBuffer#new(16) | 176 072 ops/s | ±2.13% | 64 | |
| Uint8Array#new(16) | 24 385 731 ops/s | ±5.01% | 51 | ✓ |
| | | | |
| BrowserBuffer#readDoubleBE | 41 341 ops/s | ±1.06% | 67 | |
| DataView#getFloat64 | 322 280 ops/s | ±0.84% | 68 | ✓ |
| | | | |
| BrowserBuffer#readFloatBE | 46 141 ops/s | ±1.06% | 65 | |
| DataView#getFloat32 | 337 025 ops/s | ±0.43% | 69 | ✓ |
| | | | |
| BrowserBuffer#readUInt32LE | 151 551 ops/s | ±1.02% | 66 | |
| DataView#getUint32 | 308 278 ops/s | ±0.94% | 67 | ✓ |
| | | | |
| BrowserBuffer#slice | 197 365 ops/s | ±0.95% | 66 | |
| Uint8Array#subarray | 9 558 024 ops/s | ±3.08% | 58 | ✓ |
| | | | |
| BrowserBuffer#writeFloatBE | 17 518 ops/s | ±1.03% | 63 | |
| DataView#setFloat32 | 319 751 ops/s | ±0.48% | 68 | ✓ |


### <a name="node-01114"></a>Node 0.11.14

| Méthode | Operations | Précision | Échantillonné | Le plus rapide |
|:-------|:-----------|:---------|:--------|:-------:|
| BrowserBuffer#bracket-notation | 10 489 828 ops/s | ±3.25% | 90 | |
| Uint8Array#bracket-notation | 10 534 884 ops/s | ±0.81% | 92 | ✓ |
| NodeBuffer#bracket-notation | 10 389 910 ops/s | ±0.97% | 87 | |
| | | | |
| BrowserBuffer#concat | 487 830 ops/s | ±2.58% | 88 | |
| Uint8Array#concat | 1 814 327 ops/s | ±1.28% | 88 | ✓ |
| NodeBuffer#concat | 1 636 523 ops/s | ±1.88% | 73 | |
| | | | |
| BrowserBuffer#copy(16000) | 1 073 665 ops/s | ±0.77% | 90 | |
| Uint8Array#copy(16000) | 1 348 517 ops/s | ±0.84% | 89 | ✓ |
| NodeBuffer#copy(16000) | 1 289 533 ops/s | ±0.82% | 93 | |
| | | | |
| BrowserBuffer#copy(16) | 12 782 706 ops/s | ±0.74% | 85 % | |
| Uint8Array#copy(16) | 14 180 427 ops/s | ±0.93% | 92 | ✓ |
| NodeBuffer#copy(16) | 11 083 134 ops/s | ±1.06% | 89 | |
| | | | |
| BrowserBuffer#new(16000) | 141 678 ops/s | ±3.30% | 67 | |
| Uint8Array#new(16000) | 161 491 ops/s | ±2.96% | 60 | |
| NodeBuffer#new(16000) | 292 699 ops/s | ±3.20% | 55 | ✓ |
| | | | |
| BrowserBuffer#new(16) | 1 655 466 ops/s | ±2.41% | 82 | |
| Uint8Array#new(16) | 14 399 926 ops/s | ±0.91% | 94 | ✓ |
| NodeBuffer#new(16) | 3 894 696 ops/s | ±0.88% | 92 | |
| | | | |
| BrowserBuffer#readDoubleBE | 109 582 ops/s | ±0.75% | 93 | ✓ |
| DataView#getFloat64 | 91 235 ops/s | ±0.81% | 90 | |
| NodeBuffer#readDoubleBE | 88 593 ops/s | ±0.96% | 81 | |
| | | | |
| BrowserBuffer#readFloatBE | 139 854 ops/s | ±1.03% | 85 % | ✓ |
| DataView#getFloat32 | 98 744 ops/s | ±0.80% | 89 | |
| NodeBuffer#readFloatBE | 92 769 ops/s | ±0.94% | 93 | |
| | | | |
| BrowserBuffer#readUInt32LE | 710 861 ops/s | ±0.82% | 92 | |
| DataView#getUint32 | 117 893 ops/s | ±0.84% | 91 | |
| NodeBuffer#readUInt32LE | 851 412 ops/s | ±0.72% | 93 | ✓ |
| | | | |
| BrowserBuffer#slice | 1 673 877 ops/s | ±0.73% | 94 | |
| Uint8Array#subarray | 6 919 243 ops/s | ±0.67% | 90 | ✓ |
| NodeBuffer#slice | 4 617 604 ops/s | ±0.79% | 93 | |
| | | | |
| BrowserBuffer#writeFloatBE | 66 011 ops/s | ±0.75% | 93 | |
| DataView#setFloat32 | 127 760 ops/s | ±0.72% | 93 | ✓ |
| NodeBuffer#writeFloatBE | 103 352 ops/s | ±0.83% | 93 | |

### <a name="iojs-181"></a>iojs 1.8.1

| Méthode | Operations | Précision | Échantillonné | Le plus rapide |
|:-------|:-----------|:---------|:--------|:-------:|
| BrowserBuffer#bracket-notation | 10 990 488 ops/s | ±1.11% | 91 | |
| Uint8Array#bracket-notation | 11 268 757 ops/s | ±0.65% | 97 | |
| NodeBuffer#bracket-notation | 11 353 260 ops/s | ±0.83% | 94 | ✓ |
| | | | |
| BrowserBuffer#concat | 378 954 ops/s | ±0.74% | 94 | |
| Uint8Array#concat | 1 358 288 ops/s | ±0.97% | 87 | |
| NodeBuffer#concat | 1 934 050 ops/s | ±1.11% | 78 | ✓ |
| | | | |
| BrowserBuffer#copy(16000) | 894 538 ops/s | ±0.56% | 84 | |
| Uint8Array#copy(16000) | 1 442 656 ops/s | ±0.71% | 96 | |
| NodeBuffer#copy(16000) | 1 457 898 ops/s | ±0.53% | 92 | ✓ |
| | | | |
| BrowserBuffer#copy(16) | 12 870 457 ops/s | ±0.67% | 95 | |
| Uint8Array#copy(16) | 16 643 989 ops/s | ±0.61% | 93 | ✓ |
| NodeBuffer#copy(16) | 14 885 848 ops/s | ±0.74% | 94 | |
| | | | |
| BrowserBuffer#new(16000) | 109 264 ops/s | ±4.21% | 63 | |
| Uint8Array#new(16000) | 138 916 ops/s | ±1.87% | 61 | |
| NodeBuffer#new(16000) | 281 449 ops/s | ±3.58% | 51 | ✓ |
| | | | |
| BrowserBuffer#new(16) | 1 362 935 ops/s | ±0.56% | 99 | |
| Uint8Array#new(16) | 6 193 090 ops/s | ±0.64% | 95 | ✓ |
| NodeBuffer#new(16) | 4 745 425 ops/s | ±1.56% | 90 | |
| | | | |
| BrowserBuffer#readDoubleBE | 118 127 ops/s | ±0.59% | 93 | ✓ |
| DataView#getFloat64 | 107 332 ops/s | ±0.65% | 91 | |
| NodeBuffer#readDoubleBE | 116 274 ops/s | ±0.94% | 95 | |
| | | | |
| BrowserBuffer#readFloatBE | 150 326 ops/s | ±0.58% | 95 | ✓ |
| DataView#getFloat32 | 110 541 ops/s | ±0.57% | 98 | |
| NodeBuffer#readFloatBE | 121 599 ops/s | ±0.60% | 87 | |
| | | | |
| BrowserBuffer#readUInt32LE | 814 147 ops/s | ±0.62% | 93 | |
| DataView#getUint32 | 137 592 ops/s | ±0.64% | 90 | |
| NodeBuffer#readUInt32LE | 931 650 ops/s | ±0.71% | 96 | ✓ |
| | | | |
| BrowserBuffer#slice | 878 590 ops/s | ±0.68% | 93 | |
| Uint8Array#subarray | 2 843 308 ops/s | ±1.02% | 90 | |
| NodeBuffer#slice | 4 998 316 ops/s | ±0.68% | 90 | ✓ |
| | | | |
| BrowserBuffer#writeFloatBE | 65 927 ops/s | ±0.74% | 93 | |
| DataView#setFloat32 | 139 823 ops/s | ±0.97% | 89 | ✓ |
| NodeBuffer#writeFloatBE | 135 763 ops/s | ±0.65% | 96 | |
| | | | |

## <a name="testing-the-project"></a>Test du projet

Tout d’abord, installez le projet :

    npm install

Ensuite, pour exécuter des tests dans Node.js, exécutez :

    npm run test-node

Pour tester localement dans un navigateur, vous pouvez exécuter :

    npm run test-browser-es5-local # For ES5 browsers that don't support ES6
    npm run test-browser-es6-local # For ES6 compliant browsers

Cela retourne une URL que vous pouvez ensuite ouvrir dans un navigateur pour exécuter les tests avec [airtap](https://www.npmjs.com/package/airtap).

Pour exécuter des tests de navigateur automatisés à l’aide de Saucelabs, vérifiez que vos variables d’environnement `SAUCE_USERNAME` et `SAUCE_ACCESS_KEY` sont définies, puis exécutez :

    npm test

C’est ce qui est exécuté dans Travis, pour la vérification avec différents navigateurs. La liste des navigateurs est stockée dans les fichiers `bin/airtap-es5.yml` et `bin/airtap-es6.yml`.

## <a name="javascript-standard-style"></a>JavaScript Standard Style

Ce module utilise [JavaScript Standard Style](https://github.com/feross/standard).

[![Guide de style JavaScript](https://cdn.rawgit.com/feross/standard/master/badge.svg)](https://github.com/feross/standard)

Pour vérifier que le code est conforme au style, utilisez `npm install` et exécutez :

    ./node_modules/.bin/standard

## <a name="credit"></a>credit

Cela a été initialement dupliqué (forked) à partir de [buffer-browserify](https://github.com/toots/buffer-browserify).

## <a name="security-policies-and-procedures"></a>Stratégies et procédures de sécurité

L’équipe et la communauté `buffer` traitent avec sérieux tous les bogues de sécurité dans `buffer`. Consultez notre document [Stratégies et procédures de sécurité](https://github.com/feross/security) pour savoir comment signaler des problèmes.

## <a name="license"></a>license

MIT. Copyright (C) [Feross Aboukhadijeh](http://feross.org), et d’autres contributeurs. Initialement dupliqué d’un module sous licence MIT par Romain Beauxis.
