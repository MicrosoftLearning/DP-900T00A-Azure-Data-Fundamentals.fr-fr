---
ms.openlocfilehash: 62ec6880a3e3b2a52d60ca46578b47a88379c266
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051278"
---
# <a name="detect-libc"></a>detect-libc

Module Node.js pour détecter la famille et la version d’implémentation de bibliothèque standard C (libc) en cours d’utilisation sur un système Linux donné.

Fournit une valeur adaptée à l’utilisation avec l’option `LIBC` de [prebuild](https://www.npmjs.com/package/prebuild), [prebuild-ci](https://www.npmjs.com/package/prebuild-ci) et [prebuild-install](https://www.npmjs.com/package/prebuild-install), ce qui permet de générer et de provisionner des fichiers binaires précompilés pour Linux musl, par exemple Alpine, et glibc.

Prend actuellement en charge la détection libc de `glibc` et `musl`.

## <a name="install"></a>Installer

```sh
npm install detect-libc
```

## <a name="usage"></a>Usage

### <a name="api"></a>API

```js
const { GLIBC, MUSL, family, version, isNonGlibcLinux } = require('detect-libc');
```

* `GLIBC` est une chaîne contenant la valeur « glibc » pour la comparaison avec `family`.
* `MUSL` est une chaîne contenant la valeur « musl » pour la comparaison avec `family`.
* `family` est une chaîne représentant la famille libc système.
* `version` est une chaîne représentant le numéro de version de la libc système.
* `isNonGlibcLinux` est une valeur booléenne qui indique si le système est un système linux non glibc, par exemple Alpine.

### <a name="detect-libc-command-line-tool"></a>Outil en ligne de commande detect-libc

En cas d’exécution sur un système Linux avec une libc non glibc, la commande enfant est exécutée avec la variable d’environnement `LIBC` définie sur la valeur appropriée.

Sur toutes les autres plateformes, la commande enfant est exécutée telle quelle.

La fonctionnalité de ligne de commande nécessite `spawnSync` fourni par Node v0.12+.

```sh
detect-libc child-command
```

## <a name="integrating-with-prebuild"></a>Intégration à la prébuild

```json
  "scripts": {
    "install": "detect-libc prebuild-install || node-gyp rebuild",
    "test": "mocha && detect-libc prebuild-ci"
  },
  "dependencies": {
    "detect-libc": "^1.0.2",
    "prebuild-install": "^2.2.0"
  },
  "devDependencies": {
    "prebuild": "^6.2.1",
    "prebuild-ci": "^2.2.3"
  }
```

## <a name="licence"></a>Licence

Copyright 2017 Lovell Fuller

Sous licence Apache, version 2.0 (la « licence »). Vous n’êtes pas autorisé à utiliser ce fichier, sauf en conformité avec la licence.
Vous pouvez obtenir une copie de la licence à l’adresse [http://www.apache.org/licenses/LICENSE-2.0](http://www.apache.org/licenses/LICENSE-2.0.html)

À moins que cela ne soit requis par la loi en vigueur ou accepté par écrit, le logiciel visé par la Licence est distribué « EN L'ÉTAT », SANS GARANTIE NI CONDITION DE QUELQUE NATURE QUE CE SOIT, expresse ou implicite.
Consultez la licence pour connaître les autorisations et limitations spécifiques d’une langue dans le cadre de la licence.
