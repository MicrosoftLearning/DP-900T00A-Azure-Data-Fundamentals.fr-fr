---
ms.openlocfilehash: 1997c778eb616617ba9d369f6a27828bf83af8b8
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050466"
---
Analyseur de format ini et sérialiseur pour Node.

Les sections sont traitées comme des objets imbriqués.  Les éléments avant le premier titre sont enregistrés directement sur l’objet.

## <a name="usage"></a>Usage

Considérez un fichier ini `config.ini` qui ressemble à ceci :

    ; this comment is being ignored
    scope = global

    [database]
    user = dbuser
    password = dbpassword
    database = use_this_database

    [paths.default]
    datadir = /var/lib/data
    array[] = first value
    array[] = second value
    array[] = third value

Vous pouvez lire, manipuler et écrire le fichier ini comme suit :

    var fs = require('fs')
      , ini = require('ini')

    var config = ini.parse(fs.readFileSync('./config.ini', 'utf-8'))

    config.scope = 'local'
    config.database.database = 'use_another_database'
    config.paths.default.tmpdir = '/tmp'
    delete config.paths.default.datadir
    config.paths.default.array.push('fourth value')

    fs.writeFileSync('./config_modified.ini', ini.stringify(config, { section: 'section' }))

Cela provoque l’écriture d’un fichier nommé `config_modified.ini` dans le système de fichiers avec le contenu suivant :

    [section]
    scope=local
    [section.database]
    user=dbuser
    password=dbpassword
    database=use_another_database
    [section.paths.default]
    tmpdir=/tmp
    array[]=first value
    array[]=second value
    array[]=third value
    array[]=fourth value


## <a name="api"></a>API

### <a name="decodeinistring"></a>decode(inistring)

Décoder l’`inistring` au format ini dans un objet imbriqué.

### <a name="parseinistring"></a>parse(inistring)

Alias pour `decode(inistring)`.

### <a name="encodeobject-options"></a>encode(object, [options])

Encoder l’objet `object` dans une chaîne au format ini. Si le paramètre facultatif `section` est donné, toutes les propriétés de niveau supérieur de l’objet sont placées dans cette section et la chaîne `section` est ajoutée à toutes les sous-sections (voir l’exemple d’utilisation ci-dessus).

L’objet `options` peut contenir ce qui suit :

* `section` Chaîne qui sera la première `section` dans les données ini encodées.  Par défaut, aucun.
* `whitespace` Valeur booléenne pour spécifier s’il faut placer des espaces blancs autour du caractère `=`.  Par défaut, les espaces blancs sont omis, pour des raisons de compatibilité avec certains anciens analyseurs qui ne les tolèrent pas du tout.  Mais certains trouvent que c’est plus lisible et joli avec l’espace blanc.

Pour des raisons de compatibilité descendante, si une option `string` est passée, elle est supposée être la valeur `section`.

### <a name="stringifyobject-options"></a>stringify(object, [options])

Alias pour `encode(object, [options])`.

### <a name="safeval"></a>safe(val)

Échappe la chaîne `val` de telle sorte qu’elle puisse être utilisée sans risque en tant que clé ou valeur dans un fichier ini. Correspond en gros à des guillemets d’échappement. Par exemple

    ini.safe('"unsafe string"')

donnerait

    "\"unsafe string\""

### <a name="unsafeval"></a>unsafe(val)

Annule l’échappement de la chaîne `val`.
