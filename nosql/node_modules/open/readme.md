---
ms.openlocfilehash: faba66fd211251cabf9efd984bb907f35d419ce4
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051353"
---
# <a name="open"></a>ouvert

> Ouvrez des éléments tels que des URL, des fichiers, des exécutables. Multiplateforme.

Ceci est destiné à être utilisé dans les outils et les scripts en ligne de commande, et non dans le navigateur.

Si vous en avez besoin pour Electron, utilisez [`shell.openPath()`](https://www.electronjs.org/docs/api/shell#shellopenpathpath) à la place.

Remarque : Le [package `open`](https://github.com/pwnall/node-open) d’origine a été précédemment déprécié en faveur de ce package, et nous avons obtenu le nom, donc ce package est maintenant nommé `open` au lieu de `opn`. Si vous effectuez une mise à niveau à partir du package `open` d’origine (`open@0.0.5` ou antérieure), gardez à l’esprit que l’API est différente.

#### <a name="why"></a>Pourquoi ?

- Elle est gérée activement.
- Elle prend en charge les arguments d’application.
- Elle est plus sécurisée car elle utilise `spawn` au lieu de `exec`.
- Elle résout la plupart des problèmes `node-open` d’origine.
- Elle inclut le dernier [script `xdg-open`](https://cgit.freedesktop.org/xdg/xdg-utils/commit/?id=c55122295c2a480fa721a9614f0e2d42b2949c18) pour Linux.
- Elle prend en charge les chemins WSL pour des applications Windows.

## <a name="install"></a>Installer

```
$ npm install open
```

## <a name="usage"></a>Usage

```js
const open = require('open');

(async () => {
    // Opens the image in the default image viewer and waits for the opened app to quit.
    await open('unicorn.png', {wait: true});
    console.log('The image viewer app quit');

    // Opens the URL in the default browser.
    await open('https://sindresorhus.com');

    // Opens the URL in a specified browser.
    await open('https://sindresorhus.com', {app: 'firefox'});

    // Specify app arguments.
    await open('https://sindresorhus.com', {app: ['google chrome', '--incognito']});
})();
```

## <a name="api"></a>API

Elle utilise la commande `open` sur macOS, `start` sur Windows et `xdg-open` sur les autres plateformes.

### <a name="opentarget-options"></a>open(target, options?)

Retourne une promesse pour le [processus enfant généré](https://nodejs.org/api/child_process.html#child_process_class_childprocess). Vous n’avez normalement pas besoin de l’utiliser pour quoi que ce soit, mais il peut être utile si vous souhaitez attacher des détecteurs d’événements personnalisés ou effectuer d’autres opérations directement sur le processus généré.

#### <a name="target"></a>target

Entrez : `string`

L’élément que vous voulez ouvrir. Il peut s’agir d’une URL, d’un fichier ou d’un fichier exécutable.

S’ouvre dans l’application par défaut pour ce type de fichier. Par exemple, les URL s’ouvrent dans votre navigateur par défaut.

#### <a name="options"></a>options

Entrez : `object`

##### <a name="wait"></a>wait

Type : `boolean`\
Valeur par défaut : `false`

Attendez que l’exécution de l’application ouverte soit terminée avant de répondre à la promesse. Si la valeur est `false`, la promesse est respectée immédiatement lors de l’ouverture de l’application.

Notez qu’il attend la fin de l’exécution de l’application, et pas simplement la fermeture de la fenêtre.

Sur Windows, vous devez spécifier explicitement qu’une application est autorisée à attendre.

##### <a name="background-supmacos-onlysup"></a>background <sup>(macOS uniquement)</sup>

Type : `boolean`\
Valeur par défaut : `false`

Ne mettez pas l’application au premier plan.

##### <a name="app"></a>app

Entrez : `string | string[]`

Spécifiez l’application avec laquelle ouvrir `target`, ou un tableau comprenant l’application et les arguments de l’application.

Le nom de l’application dépend de la plateforme. Ne codez pas en dur dans les modules réutilisables. Par exemple, Chrome est `google chrome` sur macOS, `google-chrome` sur Linux et `chrome` sur Windows.

Vous pouvez également passer le chemin complet de l’application. Par exemple, sur WSL, cela peut être `/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe` pour une installation Windows de Chrome.

##### <a name="url"></a>url

Type : `boolean`\
Valeur par défaut : `false`

Utilise `URL` pour encoder la cible avant de l’exécuter.<br>
Nous vous déconseillons de l’utiliser sur des cibles qui ne sont pas des URL.

Particulièrement utile lorsque vous devez faire attention aux [guillemets doubles sur Windows](#double-quotes-on-windows).

##### <a name="allownonzeroexitcode"></a>allowNonzeroExitCode

Type : `boolean`\
Valeur par défaut : `false`

Autorise l’application ouverte à se fermer avec un code de sortie différent de zéro lorsque l’option `wait` est `true`.

Cette option n’est pas recommandée. Pour réussir, il faut le code de sortie zéro.

## <a name="caveats"></a>Mises en garde

### <a name="double-quotes-on-windows"></a>Guillemets doubles sur Windows

TL;DR : tous les guillemets doubles sont retirés de `target`, ce qui vous empêche d’atteindre la destination souhaitée (sur Windows).

En raison de certains comportements de l’invite de commandes Windows (`cmd.exe`) dans laquelle l’utilisation de caractères esperluette (`&`) casse les commandes et les URL, les guillemets doubles sont désormais un cas particulier.

Auparavant, la solution ([#146](https://github.com/sindresorhus/open/pull/146)) à ceci et à d’autres problèmes consistait à tirer parti du fait que `cmd.exe` interprète un argument entre guillemets doubles comme un argument de texte brut simplement en le mettant entre guillemets (comme Node.js le fait déjà). Malheureusement, `cmd.exe` ne peut faire **qu’une seule** des deux choses suivantes : tout gérer **OU** ne rien gérer du tout. D’après sa propre documentation :

>*Si /C ou /K est spécifié, le reste de la ligne de commande après le commutateur est traité comme une ligne de commande où la logique suivante est utilisée pour traiter les caractères guillemets («) :*
>
>    1.  *Si toutes les conditions suivantes sont remplies, les guillemets de la ligne de commande sont conservés :*
>        - *Aucun commutateur /S*
>        - *Exactement deux guillemets*
>        - *Aucun caractère spécial entre les deux guillemets, les caractères spéciaux étant : &<>()@^|*
>        - *Présence d’un ou plusieurs espaces blancs entre les deux guillemets*
>        - *La chaîne entre les deux guillemets est le nom d’un fichier exécutable.*
>
>    2.  *Sinon, l’ancien comportement consiste à voir si le premier caractère est un guillemet et, si tel est le cas, à le supprimer et à supprimer le dernier guillemet sur la ligne de commande, en conservant le texte situé après le dernier caractère de guillemet.*

L’option qui a permis de résoudre tous les problèmes est la deuxième. Pour une meilleure cohérence du comportement, nous utilisons également le commutateur `/S`, de manière à **toujours** avoir la deuxième option. L’inconvénient est que cette gestion intégrée des guillemets doubles finit par tous les supprimer de la ligne de commande, et jusqu’à présent, nous n’avons pas su trouver de solution de contournement qui fonctionne (si vous en avez trouvé une, dites-le nous !).

Pour rendre cet inconvénient moins impactant (au moins pour les URL), consultez l’[option d’URL](#url). Les guillemets doubles seront conservés lorsque vous l’utiliserez avec une URL.

## <a name="related"></a>Rubriques connexes

- [open-cli](https://github.com/sindresorhus/open-cli) - Interface CLI de ce module
- [open-editor](https://github.com/sindresorhus/open-editor) - Ouvrez des fichiers dans votre éditeur au niveau d’une ligne et d’une colonne données

---

<div align="center">
    <b>
        <a href="https://tidelift.com/subscription/pkg/npm-opn?utm_source=npm-opn&utm_medium=referral&utm_campaign=readme">Bénéficiez d’un support professionnel pour ce package avec un abonnement Tidelift</a>
    </b>
    <br>
    <sub>Tidelift permet de rendre l’open source durable pour les chargés de maintenance tout en donnant aux entreprises<br>des garanties relatives à la sécurité, à la maintenance et aux licences pour leurs dépendances.
    </sub>
</div>
