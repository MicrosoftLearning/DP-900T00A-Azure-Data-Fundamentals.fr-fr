---
ms.openlocfilehash: a99dd16ee6283131f11f543fc7caf0badb805d7a
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051601"
---
# <a name="pump"></a>pump

pump est un petit module de nœud qui canalise un ensemble de flux et les détruit tous si l’un d’eux se ferme.

```
npm install pump
```

[![État de la build](http://img.shields.io/travis/mafintosh/pump.svg?style=flat)](http://travis-ci.org/mafintosh/pump)

## <a name="what-problem-does-it-solve"></a>Quel problème cela résout-il ?

Si vous utilisez le `source.pipe(dest)` standard, la source _ne sera pas_ détruite si dest émet une fermeture ou une erreur.
Vous ne pouvez pas non plus fournir de rappel pour indiquer quand le canal a terminé.

pump fait ces deux choses pour vous

## <a name="usage"></a>Usage

Passez simplement les flux que vous souhaitez canaliser ensemble pour « pumper » et ajouter un rappel facultatif

``` js
var pump = require('pump')
var fs = require('fs')

var source = fs.createReadStream('/dev/random')
var dest = fs.createWriteStream('/dev/null')

pump(source, dest, function(err) {
  console.log('pipe finished', err)
})

setTimeout(function() {
  dest.destroy() // when dest is closed pump will destroy source
}, 1000)
```

Vous pouvez également utiliser pump pour canaliser ensemble plus de deux flux

``` js
var transform = someTransformStream()

pump(source, transform, anotherTransform, dest, function(err) {
  console.log('pipe finished', err)
})
```

Si `source`, `transform`, `anotherTransform` ou `dest` se ferme, tous seront détruits.

Comme `stream.pipe()`, `pump()` retourne le dernier flux passé, ce qui vous permet d’effectuer les tâches suivantes :

```
return pump(s1, s2) // returns s2
```

Si vous souhaitez retourner un flux qui combine *à la fois* s1 et s2, utilisez [pumpify](https://github.com/mafintosh/pumpify) à la place.

## <a name="license"></a>Licence

MIT

## <a name="related"></a>Rubriques connexes

`pump` fait partie de la [collection d’utilitaires de flux mississippi](https://github.com/maxogden/mississippi) qui inclut des modules de flux plus utiles semblables à celui-ci.
